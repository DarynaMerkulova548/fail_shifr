<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Міф про Вчителя 2025 |Файл: Вчитель_Зашифровано  2350</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&display=swap');
        
        :root {
            --primary-cyan: #64FFDA;
            --secondary-purple: #BB86FC;
            --accent-blue: #4FC3F7;
            --warm-orange: #FFB74D;
            --soft-green: #81C784;
            --bg-deep: #0D1117;
            --bg-surface: #161B22;
            --bg-elevated: #21262D;
            --text-primary: #F0F6FC;
            --text-secondary: #8B949E;
            --border-subtle: #30363D;
            --glow-soft: rgba(100, 255, 218, 0.15);
            --glow-medium: rgba(100, 255, 218, 0.25);
            --glow-strong: rgba(100, 255, 218, 0.4);
        }

        body {
            font-family: 'Exo 2', sans-serif;
            background: 
                radial-gradient(ellipse at top, #1B2951 0%, transparent 50%),
                radial-gradient(ellipse at bottom, #16213E 0%, transparent 50%),
                linear-gradient(135deg, var(--bg-deep) 0%, #0A0E1A 100%);
            min-height: 100vh;
            overflow-x: hidden;
            color: var(--text-primary);
        }

        .elegant-title {
            font-family: 'Orbitron', monospace;
            color: var(--primary-cyan);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            background: linear-gradient(135deg, var(--primary-cyan), var(--accent-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Iron Man Holographic Effects */
        .energy-waves {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            background: 
                radial-gradient(circle at 20% 30%, rgba(100, 255, 218, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(187, 134, 252, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 60% 20%, rgba(79, 195, 247, 0.06) 0%, transparent 30%);
            animation: energy-pulse 8s ease-in-out infinite alternate;
        }

        @keyframes energy-pulse {
            0% { opacity: 0.3; transform: scale(1); }
            100% { opacity: 0.7; transform: scale(1.1); }
        }

        .molecular-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(100, 255, 218, 0.05) 2px, transparent 2px),
                radial-gradient(circle at 30% 80%, rgba(187, 134, 252, 0.04) 1px, transparent 1px),
                radial-gradient(circle at 70% 40%, rgba(79, 195, 247, 0.03) 1.5px, transparent 1.5px),
                radial-gradient(circle at 90% 70%, rgba(255, 183, 77, 0.04) 1px, transparent 1px);
            background-size: 150px 150px, 200px 200px, 180px 180px, 220px 220px;
            animation: molecular-drift 25s linear infinite;
        }

        @keyframes molecular-drift {
            0% { background-position: 0 0, 50px 50px, 100px 20px, 150px 80px; }
            100% { background-position: 300px 200px, 350px 250px, 400px 220px, 450px 280px; }
        }

        .quantum-field {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            background: 
                linear-gradient(45deg, transparent 49%, rgba(100, 255, 218, 0.02) 50%, transparent 51%),
                linear-gradient(-45deg, transparent 49%, rgba(187, 134, 252, 0.015) 50%, transparent 51%);
            background-size: 60px 60px;
            animation: quantum-flow 15s linear infinite;
        }

        @keyframes quantum-flow {
            0% { background-position: 0 0, 30px 30px; }
            100% { background-position: 60px 60px, 90px 90px; }
        }

        .hologram-3d {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: 
                linear-gradient(135deg, rgba(100, 255, 218, 0.1), rgba(79, 195, 247, 0.05)),
                radial-gradient(circle, rgba(100, 255, 218, 0.1) 0%, transparent 70%);
            border: 1px solid rgba(100, 255, 218, 0.3);
            border-radius: 50%;
            box-shadow: 
                0 0 20px rgba(100, 255, 218, 0.3),
                inset 0 0 20px rgba(100, 255, 218, 0.1);
            animation: hologram-float 6s ease-in-out infinite, hologram-glow 3s ease-in-out infinite alternate;
            backdrop-filter: blur(10px);
        }

        @keyframes hologram-float {
            0%, 100% { transform: translateY(0px) rotateY(0deg); }
            50% { transform: translateY(-15px) rotateY(180deg); }
        }

        @keyframes hologram-glow {
            0% { 
                box-shadow: 
                    0 0 20px rgba(100, 255, 218, 0.3),
                    inset 0 0 20px rgba(100, 255, 218, 0.1);
            }
            100% { 
                box-shadow: 
                    0 0 40px rgba(100, 255, 218, 0.6),
                    inset 0 0 30px rgba(100, 255, 218, 0.2);
            }
        }

        /* Enhanced scan lines */
        .scan-line {
            animation: scan 8s ease-in-out infinite;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(100, 255, 218, 0.3), 
                rgba(79, 195, 247, 0.5),
                rgba(100, 255, 218, 0.3), 
                transparent);
            height: 2px;
            opacity: 0.8;
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
        }

        @keyframes scan {
            0% { transform: translateX(-100%); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateX(100vw); opacity: 0; }
        }

        /* Particle effects */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: var(--primary-cyan);
            border-radius: 50%;
            box-shadow: 0 0 6px var(--primary-cyan);
            animation: particle-float 10s linear infinite;
        }

        @keyframes particle-float {
            0% { 
                transform: translateY(100vh) translateX(0px) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
                transform: scale(1);
            }
            90% {
                opacity: 1;
            }
            100% { 
                transform: translateY(-100px) translateX(200px) scale(0);
                opacity: 0;
            }
        }

        /* 3D Holographic Projections */
        .hologram-projection {
            position: fixed;
            pointer-events: none;
            transform-style: preserve-3d;
        }

        .hologram-cube {
            width: 80px;
            height: 80px;
            position: relative;
            transform-style: preserve-3d;
            animation: cube-rotate 20s linear infinite;
        }

        .hologram-cube .face {
            position: absolute;
            width: 80px;
            height: 80px;
            border: 1px solid rgba(100, 255, 218, 0.4);
            background: rgba(100, 255, 218, 0.05);
            backdrop-filter: blur(5px);
        }

        .hologram-cube .front { transform: rotateY(0deg) translateZ(40px); }
        .hologram-cube .back { transform: rotateY(180deg) translateZ(40px); }
        .hologram-cube .right { transform: rotateY(90deg) translateZ(40px); }
        .hologram-cube .left { transform: rotateY(-90deg) translateZ(40px); }
        .hologram-cube .top { transform: rotateX(90deg) translateZ(40px); }
        .hologram-cube .bottom { transform: rotateX(-90deg) translateZ(40px); }

        @keyframes cube-rotate {
            0% { transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg); }
            100% { transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg); }
        }

        .hologram-pyramid {
            width: 0;
            height: 0;
            border-left: 30px solid transparent;
            border-right: 30px solid transparent;
            border-bottom: 60px solid rgba(79, 195, 247, 0.3);
            animation: pyramid-pulse 4s ease-in-out infinite, pyramid-rotate 8s linear infinite;
        }

        @keyframes pyramid-pulse {
            0%, 100% { transform: scale(1) translateY(0); filter: brightness(1); }
            50% { transform: scale(1.2) translateY(-10px); filter: brightness(1.5); }
        }

        @keyframes pyramid-rotate {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }

        .hologram-ring {
            width: 100px;
            height: 100px;
            border: 2px solid rgba(187, 134, 252, 0.6);
            border-radius: 50%;
            position: relative;
            animation: ring-rotate 6s linear infinite;
        }

        .hologram-ring::before,
        .hologram-ring::after {
            content: '';
            position: absolute;
            border: 1px solid rgba(187, 134, 252, 0.4);
            border-radius: 50%;
        }

        .hologram-ring::before {
            width: 60px;
            height: 60px;
            top: 18px;
            left: 18px;
            animation: ring-rotate 4s linear infinite reverse;
        }

        .hologram-ring::after {
            width: 30px;
            height: 30px;
            top: 33px;
            left: 33px;
            animation: ring-rotate 2s linear infinite;
        }

        @keyframes ring-rotate {
            0% { transform: rotateZ(0deg); }
            100% { transform: rotateZ(360deg); }
        }

        .data-visualization {
            width: 120px;
            height: 80px;
            position: relative;
            animation: data-flow 3s ease-in-out infinite;
        }

        .data-bar {
            position: absolute;
            bottom: 0;
            width: 8px;
            background: linear-gradient(to top, rgba(100, 255, 218, 0.8), rgba(100, 255, 218, 0.3));
            border-radius: 4px 4px 0 0;
            animation: bar-grow 2s ease-in-out infinite;
        }

        .data-bar:nth-child(1) { left: 0; height: 20px; animation-delay: 0s; }
        .data-bar:nth-child(2) { left: 12px; height: 35px; animation-delay: 0.2s; }
        .data-bar:nth-child(3) { left: 24px; height: 50px; animation-delay: 0.4s; }
        .data-bar:nth-child(4) { left: 36px; height: 30px; animation-delay: 0.6s; }
        .data-bar:nth-child(5) { left: 48px; height: 45px; animation-delay: 0.8s; }
        .data-bar:nth-child(6) { left: 60px; height: 25px; animation-delay: 1s; }

        @keyframes bar-grow {
            0%, 100% { transform: scaleY(0.5); opacity: 0.6; }
            50% { transform: scaleY(1); opacity: 1; }
        }

        @keyframes data-flow {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-10px) scale(1.05); }
        }

        /* Energy beams */
        .energy-beam {
            position: absolute;
            width: 2px;
            height: 200px;
            background: linear-gradient(to bottom, 
                rgba(100, 255, 218, 0.8), 
                rgba(100, 255, 218, 0.2), 
                transparent);
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
            animation: beam-scan 4s ease-in-out infinite;
        }

        @keyframes beam-scan {
            0%, 100% { opacity: 0; transform: rotate(0deg); }
            50% { opacity: 1; transform: rotate(10deg); }
        }

        /* Game UI Elements */
        .research-progress {
            background: linear-gradient(90deg, var(--primary-cyan), var(--accent-blue));
            height: 8px;
            border-radius: 4px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
        }

        .achievement-badge {
            background: linear-gradient(135deg, var(--warm-orange), #FF8A65);
            color: white;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            gap: 4px;
            animation: badge-glow 2s ease-in-out infinite alternate;
        }

        @keyframes badge-glow {
            0% { box-shadow: 0 0 5px rgba(255, 183, 77, 0.3); }
            100% { box-shadow: 0 0 15px rgba(255, 183, 77, 0.6); }
        }

        .locked-content {
            filter: blur(2px);
            opacity: 0.5;
            pointer-events: none;
            position: relative;
        }

        .locked-content::after {
            content: '🔒 ЗАБЛОКОВАНО';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            color: var(--primary-cyan);
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 14px;
        }

        .game-terminal {
            background: linear-gradient(145deg, #0A0E1A, #161B22);
            border: 1px solid var(--primary-cyan);
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            color: var(--soft-green);
            padding: 16px;
            min-height: 120px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(100, 255, 218, 0.2);
        }

        .game-terminal::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(100, 255, 218, 0.1), transparent);
            animation: terminal-scan 3s linear infinite;
        }

        @keyframes terminal-scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .cipher-input {
            background: rgba(22, 27, 34, 0.8);
            border: 1px solid var(--border-subtle);
            color: var(--text-primary);
            padding: 8px 12px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            transition: border-color 0.3s ease;
        }

        .cipher-input:focus {
            outline: none;
            border-color: var(--primary-cyan);
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.3);
        }

        .artifact-glow {
            background: linear-gradient(145deg, var(--bg-surface), var(--bg-elevated));
            border: 1px solid var(--border-subtle);
            box-shadow: 
                0 4px 20px rgba(100, 255, 218, 0.1),
                0 1px 3px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            transition: all 0.3s ease;
        }

        .artifact-glow:hover {
            border-color: var(--primary-cyan);
            box-shadow: 
                0 8px 32px rgba(100, 255, 218, 0.15),
                0 2px 8px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .neural-grid {
            background-image: 
                radial-gradient(circle at 25% 25%, var(--primary-cyan) 1px, transparent 1px),
                radial-gradient(circle at 75% 75%, var(--secondary-purple) 1px, transparent 1px);
            background-size: 80px 80px;
            animation: grid-flow 20s linear infinite;
            opacity: 0.03;
        }

        @keyframes grid-flow {
            0% { background-position: 0 0, 40px 40px; }
            100% { background-position: 80px 80px, 120px 120px; }
        }

        .float-animation {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .data-stream {
            font-family: 'Courier New', monospace;
            color: var(--soft-green);
            animation: type 6s steps(80, end) infinite;
            overflow: hidden;
            white-space: nowrap;
            opacity: 0.8;
        }

        @keyframes type {
            0%, 85%, 100% { width: 0; }
            10%, 75% { width: 100%; }
        }

        .hologram-border {
            position: relative;
            overflow: hidden;
            background: linear-gradient(145deg, var(--bg-surface), var(--bg-elevated));
            border: 1px solid var(--border-subtle);
            transition: all 0.4s ease;
        }

        .hologram-border::before {
            content: '';
            position: absolute;
            top: -1px;
            left: -1px;
            right: -1px;
            bottom: -1px;
            background: linear-gradient(45deg, 
                var(--primary-cyan), 
                var(--secondary-purple), 
                var(--accent-blue), 
                var(--primary-cyan));
            background-size: 400% 400%;
            animation: gradient-flow 8s ease infinite;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .hologram-border:hover::before {
            opacity: 0.3;
        }

        @keyframes gradient-flow {
            0% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 100% 100%; }
            75% { background-position: 0% 100%; }
            100% { background-position: 0% 50%; }
        }

        .quantum-pulse {
            animation: quantum 3s ease-in-out infinite;
        }

        @keyframes quantum {
            0%, 100% { 
                transform: scale(1); 
                box-shadow: 0 4px 20px rgba(100, 255, 218, 0.1);
            }
            50% { 
                transform: scale(1.02); 
                box-shadow: 0 8px 32px rgba(100, 255, 218, 0.2);
            }
        }

        /* Enhanced modern components */
        .modern-card {
            background: linear-gradient(145deg, var(--bg-surface), var(--bg-elevated));
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.1),
                0 1px 3px rgba(0, 0, 0, 0.2);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modern-card:hover {
            transform: translateY(-4px);
            box-shadow: 
                0 8px 40px rgba(100, 255, 218, 0.1),
                0 2px 8px rgba(0, 0, 0, 0.3);
            border-color: var(--primary-cyan);
        }

        .glass-effect {
            backdrop-filter: blur(20px) saturate(180%);
            background: rgba(22, 27, 34, 0.85);
            border: 1px solid rgba(255, 255, 255, 0.125);
        }

        .neon-accent {
            position: relative;
        }

        .neon-accent::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: inherit;
            padding: 1px;
            background: linear-gradient(45deg, var(--primary-cyan), transparent, var(--secondary-purple));
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: xor;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .neon-accent:hover::after {
            opacity: 1;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="text-cyan-100">
    <!-- Scanning Line Effect -->
    <div class="scan-line fixed top-0 left-0 w-full z-50"></div>
    
    <!-- Future 2350 Background Elements -->
    <div class="neural-grid fixed inset-0 opacity-20"></div>
    
    <!-- Energy Waves -->
    <div class="energy-waves"></div>
    
    <!-- Molecular Visualization -->
    <div class="molecular-bg"></div>
    
    <!-- Quantum Field -->
    <div class="quantum-field"></div>
    
    <!-- Floating Particles -->
    <div class="particles" id="particles-container"></div>
    
    <!-- Holographic HUD Elements -->
    <div class="fixed top-20 left-4 z-30 opacity-60">
        <div class="text-xs text-cyan-400 font-mono">
            <div class="mb-1">TEMPORAL_SYNC: <span id="timestamp">2350.127.19:42:03</span></div>
            <div class="mb-1">QUANTUM_STATE: COHERENT</div>
            <div class="mb-1">NEURAL_LINK: ACTIVE</div>
            <div class="animate-pulse">DATA_STREAM: <span id="data-progress">████████░░</span> <span id="data-percent">87</span>%</div>
        </div>
    </div>
    
    <!-- Floating Holograms -->
    <div class="fixed bottom-20 right-6 z-30 opacity-50">
        <div class="hologram-3d">
            <div class="text-2xl">🧬</div>
        </div>
    </div>
    
    <div class="fixed top-1/3 right-12 z-30 opacity-40">
        <div class="hologram-3d" style="animation-delay: -5s;">
            <div class="text-xl">⚛️</div>
        </div>
    </div>
    
    <div class="fixed top-1/2 left-8 z-30 opacity-30">
        <div class="hologram-3d" style="animation-delay: -2s;">
            <div class="text-lg">🔬</div>
        </div>
    </div>

    <!-- 3D Holographic Cubes -->
    <div class="hologram-projection fixed top-1/4 left-1/4 z-20 opacity-20">
        <div class="hologram-cube">
            <div class="face front"></div>
            <div class="face back"></div>
            <div class="face right"></div>
            <div class="face left"></div>
            <div class="face top"></div>
            <div class="face bottom"></div>
        </div>
    </div>

    <div class="hologram-projection fixed bottom-1/4 right-1/4 z-20 opacity-25">
        <div class="hologram-cube" style="animation-delay: -10s;">
            <div class="face front"></div>
            <div class="face back"></div>
            <div class="face right"></div>
            <div class="face left"></div>
            <div class="face top"></div>
            <div class="face bottom"></div>
        </div>
    </div>

    <!-- Floating Pyramids -->
    <div class="hologram-projection fixed top-2/3 left-10 z-20 opacity-30">
        <div class="hologram-pyramid"></div>
    </div>

    <div class="hologram-projection fixed top-1/5 right-1/3 z-20 opacity-25">
        <div class="hologram-pyramid" style="animation-delay: -3s;"></div>
    </div>

    <!-- Rotating Rings -->
    <div class="hologram-projection fixed bottom-1/3 left-1/2 z-20 opacity-20">
        <div class="hologram-ring"></div>
    </div>

    <div class="hologram-projection fixed top-1/2 right-20 z-20 opacity-15">
        <div class="hologram-ring" style="animation-delay: -4s;"></div>
    </div>

    <!-- Data Visualizations -->
    <div class="hologram-projection fixed bottom-1/5 left-20 z-20 opacity-30">
        <div class="data-visualization">
            <div class="data-bar"></div>
            <div class="data-bar"></div>
            <div class="data-bar"></div>
            <div class="data-bar"></div>
            <div class="data-bar"></div>
            <div class="data-bar"></div>
        </div>
    </div>

    <div class="hologram-projection fixed top-3/4 right-16 z-20 opacity-25">
        <div class="data-visualization" style="animation-delay: -2s;">
            <div class="data-bar"></div>
            <div class="data-bar"></div>
            <div class="data-bar"></div>
            <div class="data-bar"></div>
            <div class="data-bar"></div>
            <div class="data-bar"></div>
        </div>
    </div>

    <!-- Energy Beams -->
    <div class="fixed top-40 right-20 z-20">
        <div class="energy-beam" style="animation-delay: -1s;"></div>
    </div>
    <div class="fixed bottom-40 left-16 z-20">
        <div class="energy-beam" style="animation-delay: -3s; height: 150px;"></div>
    </div>
    <div class="fixed top-60 left-1/3 z-20">
        <div class="energy-beam" style="animation-delay: -2s; height: 120px;"></div>
    </div>
    <div class="fixed bottom-60 right-1/3 z-20">
        <div class="energy-beam" style="animation-delay: -4s; height: 180px;"></div>
    </div>

    <!-- Language Selector -->
    <div class="fixed top-4 right-4 z-50">
        <select id="languageSelector" onchange="changeLanguage(this.value)" class="bg-gray-800 text-cyan-400 border border-cyan-500 rounded px-3 py-2 text-sm font-mono">
            <option value="uk">🇺🇦 Українська</option>
            <option value="en">🇺🇸 English</option>
            <option value="de">🇩🇪 Deutsch</option>
            <option value="fr">🇫🇷 Français</option>
            <option value="es">🇪🇸 Español</option>
        </select>
    </div>

    <!-- Header -->
    <header class="relative z-10 text-center py-8 px-4">
        <div class="hologram-text text-4xl md:text-6xl font-bold text-cyan-400 mb-4" data-translate="title">
            Файл: Учитель_Зашифровано
        </div>
        <div class="text-xl md:text-2xl text-purple-300 mb-2" data-translate="subtitle">
            Дослідження Давніх Цивілізацій
        </div>
        <div class="data-stream text-sm text-green-400 max-w-2xl mx-auto" data-translate="scanning">
            СКАНУВАННЯ... ДЕКОДУВАННЯ АРХЕОЛОГІЧНИХ ДАНИХ... ЗНАЙДЕНО: МІФ ПРО ВЧИТЕЛЯ 2025...
        </div>
    </header>

    <!-- Main Content -->
    <main class="relative z-10 max-w-6xl mx-auto px-4 py-8">
        
        <!-- Scientific Classification -->
        <section class="artifact-glow bg-gray-900 bg-opacity-60 rounded-xl p-6 mb-8 float-animation">
            <h2 class="hologram-text text-2xl md:text-3xl text-cyan-400 mb-4" data-translate="discovery_title">
                🔬 НАУКОВО-АРХЕОЛОГІЧНА КЛАСИФІКАЦІЯ
            </h2>
            
            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <div class="bg-blue-900 bg-opacity-30 p-4 rounded-lg border border-blue-400">
                    <h3 class="text-blue-300 font-bold mb-2" data-translate="taxonomy_title">Таксономічна класифікація:</h3>
                    <div class="space-y-1 text-sm text-blue-200">
                        <p><strong>Домен:</strong> <em>Homo sapiens educatoris</em></p>
                        <p><strong>Клас:</strong> Педагогічні гуманоїди</p>
                        <p><strong>Ряд:</strong> Когнітивні ретрансмітери</p>
                        <p><strong>Сімейство:</strong> Мультимодальні комунікатори</p>
                        <p><strong>Вид:</strong> <em>Educatus chronotransitionalis</em></p>
                    </div>
                </div>
                
                <div class="bg-purple-900 bg-opacity-30 p-4 rounded-lg border border-purple-400">
                    <h3 class="text-purple-300 font-bold mb-2" data-translate="dating_title">Радіовуглецеве датування:</h3>
                    <div class="space-y-1 text-sm text-purple-200">
                        <p><strong>Період активності:</strong> 2020-2030 н.е.</p>
                        <p><strong>Піковий розвиток:</strong> 2025 н.е. ± 6 місяців</p>
                        <p><strong>Останні сліди:</strong> ~2035 н.е.</p>
                        <p><strong>Метод датування:</strong> Квантово-цифровий аналіз</p>
                    </div>
                </div>
            </div>
            
            <div class="bg-gray-800 bg-opacity-50 p-6 rounded-lg">
                <h3 class="text-yellow-400 font-bold mb-3" data-translate="abstract_title">Наукова анотація дослідження:</h3>
                <p class="text-gray-200 leading-relaxed mb-4" data-translate="abstract_content">
                    Археологічний аналіз цифрових артефактів періоду 2020-2030 рр. виявив існування унікального соціокультурного феномену - 
                    <span class="text-cyan-400 font-bold">професійної каста педагогічних спеціалістів</span>, відомих як "Вчителі". 
                    Дослідження базується на мультидисциплінарному підході, включаючи квантову археологію, нейро-палеонтологію та 
                    цифрову етнографію доцифрової епохи.
                </p>
                
                <div class="grid md:grid-cols-3 gap-4 text-sm">
                    <div class="bg-cyan-900 bg-opacity-40 p-3 rounded">
                        <h4 class="text-cyan-300 font-bold mb-1" data-translate="methodology">Методологія:</h4>
                        <p class="text-cyan-200" data-translate="methodology_desc">Голографічна реконструкція + Квантовий аналіз метаданих</p>
                    </div>
                    <div class="bg-green-900 bg-opacity-40 p-3 rounded">
                        <h4 class="text-green-300 font-bold mb-1" data-translate="sample_size">Розмір вибірки:</h4>
                        <p class="text-green-200" data-translate="sample_desc">2.3 млн цифрових фрагментів з 47 археологічних сайтів</p>
                    </div>
                    <div class="bg-orange-900 bg-opacity-40 p-3 rounded">
                        <h4 class="text-orange-300 font-bold mb-1" data-translate="reliability">Достовірність:</h4>
                        <p class="text-orange-200" data-translate="reliability_desc">94.7% (квантова верифікація)</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Research Methodology Section -->
        <section class="artifact-glow bg-emerald-900 bg-opacity-40 rounded-xl p-6 mb-8">
            <h2 class="hologram-text text-2xl text-emerald-300 mb-6" data-translate="methodology_title">
                🔬 ДЕТАЛЬНА МЕТОДИКА ДОСЛІДЖЕННЯ
            </h2>
            
            <!-- Research Phases -->
            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <div class="bg-emerald-800 bg-opacity-30 p-4 rounded-lg border border-emerald-400">
                    <h3 class="text-emerald-300 font-bold mb-3" data-translate="phases_title">Етапи дослідження:</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-center">
                            <span class="w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center text-xs font-bold mr-3">1</span>
                            <span class="text-emerald-200" data-translate="phase1">Квантово-археологічне сканування</span>
                        </div>
                        <div class="flex items-center">
                            <span class="w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center text-xs font-bold mr-3">2</span>
                            <span class="text-emerald-200" data-translate="phase2">Голографічна реконструкція</span>
                        </div>
                        <div class="flex items-center">
                            <span class="w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center text-xs font-bold mr-3">3</span>
                            <span class="text-emerald-200" data-translate="phase3">Нейро-палеонтологічний аналіз</span>
                        </div>
                        <div class="flex items-center">
                            <span class="w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center text-xs font-bold mr-3">4</span>
                            <span class="text-emerald-200" data-translate="phase4">Цифрова етнографічна реконструкція</span>
                        </div>
                        <div class="flex items-center">
                            <span class="w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center text-xs font-bold mr-3">5</span>
                            <span class="text-emerald-200" data-translate="phase5">Квантова верифікація результатів</span>
                        </div>
                    </div>
                </div>
                
                <div class="bg-teal-800 bg-opacity-30 p-4 rounded-lg border border-teal-400">
                    <h3 class="text-teal-300 font-bold mb-3" data-translate="instruments_title">Наукові інструменти:</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-start">
                            <span class="text-teal-400 mr-2">🔸</span>
                            <div>
                                <span class="text-teal-200 font-medium" data-translate="instrument1">Квантовий Темпоральний Сканер XT-2350</span>
                                <p class="text-teal-300 text-xs" data-translate="instrument1_desc">Розділення часу до 10⁻¹⁸ секунд</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <span class="text-teal-400 mr-2">🔸</span>
                            <div>
                                <span class="text-teal-200 font-medium" data-translate="instrument2">Голографічний Реконструктор Memoria</span>
                                <p class="text-teal-300 text-xs" data-translate="instrument2_desc">99.97% точність відтворення</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <span class="text-teal-400 mr-2">🔸</span>
                            <div>
                                <span class="text-teal-200 font-medium" data-translate="instrument3">Нейро-Емпатичний Аналізатор</span>
                                <p class="text-teal-300 text-xs" data-translate="instrument3_desc">Детекція емоційних сигнатур</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <span class="text-teal-400 mr-2">🔸</span>
                            <div>
                                <span class="text-teal-200 font-medium" data-translate="instrument4">Квантовий Комп'ютер Prometheus-IX</span>
                                <p class="text-teal-300 text-xs" data-translate="instrument4_desc">10²³ операцій/сек</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Detailed Methodology -->
            <div class="bg-gray-800 bg-opacity-50 p-6 rounded-lg">
                <h3 class="text-yellow-400 font-bold mb-4" data-translate="detailed_method_title">Протокол дослідження:</h3>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h4 class="text-cyan-300 font-bold mb-2" data-translate="data_collection">1. Збір даних</h4>
                        <ul class="text-gray-300 text-sm space-y-1">
                            <li data-translate="method1_1">• Сканування цифрових архівів 2020-2030 рр.</li>
                            <li data-translate="method1_2">• Квантова екстракція метаданих</li>
                            <li data-translate="method1_3">• Темпоральна стратиграфія інформації</li>
                            <li data-translate="method1_4">• Кластерний аналіз поведінкових патернів</li>
                        </ul>
                        
                        <h4 class="text-purple-300 font-bold mb-2 mt-4" data-translate="processing">2. Обробка даних</h4>
                        <ul class="text-gray-300 text-sm space-y-1">
                            <li data-translate="method2_1">• Алгоритми машинного навчання 47-го покоління</li>
                            <li data-translate="method2_2">• Квантова фільтрація шумів</li>
                            <li data-translate="method2_3">• Голографічна деконволюція сигналів</li>
                            <li data-translate="method2_4">• Нейронна мережа з 10¹² параметрів</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="text-green-300 font-bold mb-2" data-translate="analysis">3. Аналіз результатів</h4>
                        <ul class="text-gray-300 text-sm space-y-1">
                            <li data-translate="method3_1">• Багатовимірна статистична кореляція</li>
                            <li data-translate="method3_2">• Квантова Monte Carlo симуляція</li>
                            <li data-translate="method3_3">• Байєсівський висновок з апріорним знанням</li>
                            <li data-translate="method3_4">• Валідація через незалежні архіви</li>
                        </ul>
                        
                        <h4 class="text-orange-300 font-bold mb-2 mt-4" data-translate="validation">4. Верифікація</h4>
                        <ul class="text-gray-300 text-sm space-y-1">
                            <li data-translate="method4_1">• Крос-валідація на 15 незалежних вибірках</li>
                            <li data-translate="method4_2">• Експертна оцінка 247 спеціалістів</li>
                            <li data-translate="method4_3">• Квантова перевірка цілісності</li>
                            <li data-translate="method4_4">• Темпоральна стабільність результатів</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Research Limitations -->
            <div class="mt-6 bg-red-900 bg-opacity-20 border border-red-500 p-4 rounded-lg">
                <h4 class="text-red-300 font-bold mb-2" data-translate="limitations_title">⚠️ Обмеження дослідження:</h4>
                <ul class="text-red-200 text-sm space-y-1">
                    <li data-translate="limitation1">• Деградація цифрових носіїв (~15% втрати даних)</li>
                    <li data-translate="limitation2">• Квантова невизначеність при темпоральному сканувані</li>
                    <li data-translate="limitation3">• Культурний bias сучасних дослідників</li>
                    <li data-translate="limitation4">• Неповнота архівних записів доцифрової епохи</li>
                </ul>
            </div>
        </section>

        <!-- Scientific Hypothesis Section -->
        <section class="artifact-glow bg-indigo-900 bg-opacity-40 rounded-xl p-6 mb-8">
            <h2 class="hologram-text text-2xl text-indigo-300 mb-6" data-translate="hypothesis_title">
                📋 НАУКОВІ ГІПОТЕЗИ ТА ТЕОРІЇ
            </h2>
            
            <div class="space-y-6">
                <div class="border-l-4 border-cyan-500 pl-4 bg-cyan-900 bg-opacity-20 p-4 rounded-r">
                    <h3 class="text-cyan-300 font-bold mb-2" data-translate="theory1_title">Гіпотеза 1: Теорія Адаптивної Еволюції</h3>
                    <p class="text-cyan-200 text-sm mb-2" data-translate="theory1_desc">
                        Вчителі 2025 року представляли унікальний еволюційний момент - "missing link" між доцифровою та постцифровою педагогікою.
                    </p>
                    <div class="text-xs text-cyan-300">
                        <strong data-translate="evidence">Докази:</strong> <span data-translate="theory1_evidence">Квантовий аналіз нейросигнатур показує 347% збільшення когнітивної пластичності</span>
                    </div>
                </div>
                
                <div class="border-l-4 border-purple-500 pl-4 bg-purple-900 bg-opacity-20 p-4 rounded-r">
                    <h3 class="text-purple-300 font-bold mb-2" data-translate="theory2_title">Гіпотеза 2: Симбіотична Інтеграція</h3>
                    <p class="text-purple-200 text-sm mb-2" data-translate="theory2_desc">
                        Відносини вчителя з технологіями не були домінування чи підпорядкування, а справжнім симбіозом.
                    </p>
                    <div class="text-xs text-purple-300">
                        <strong data-translate="evidence">Докази:</strong> <span data-translate="theory2_evidence">Голографічні сліди показують синхронізацію біоритмів з цифровими процесами</span>
                    </div>
                </div>
                
                <div class="border-l-4 border-green-500 pl-4 bg-green-900 bg-opacity-20 p-4 rounded-r">
                    <h3 class="text-green-300 font-bold mb-2" data-translate="theory3_title">Гіпотеза 3: Квантова Емпатія</h3>
                    <p class="text-green-200 text-sm mb-2" data-translate="theory3_desc">
                        Легендарна здатність вчителів до "розуміння" може мати квантово-механічну природу.
                    </p>
                    <div class="text-xs text-green-300">
                        <strong data-translate="evidence">Докази:</strong> <span data-translate="theory3_evidence">Виявлено аномальні квантові флуктуації в зонах навчальних просторів</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Myth Sections -->
        <div class="grid md:grid-cols-2 gap-8 mb-8">
            
            <!-- Physical Form -->
            <section class="hologram-border bg-purple-900 bg-opacity-40 rounded-xl p-6 quantum-pulse">
                <h3 class="text-xl font-bold text-purple-300 mb-4 flex items-center">
                    <span class="text-2xl mr-2">👤</span> ФІЗИЧНА ФОРМА ВЧИТЕЛЯ
                </h3>
                <div class="space-y-3 text-sm">
                    <p><span class="text-yellow-400">●</span> Мали органічні тіла з обмеженим терміном служби (~80 років)</p>
                    <p><span class="text-yellow-400">●</span> Користувалися примітивними сенсорами (очі, вуха)</p>
                    <p><span class="text-yellow-400">●</span> Володіли таємничою здатністю до "емпатії"</p>
                    <p><span class="text-yellow-400">●</span> Могли функціонувати без підзарядки до 16 годин поспіль!</p>
                </div>
                <button onclick="revealSecret('physical')" class="mt-4 bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded text-sm transition-colors">
                    Розшифрувати додаткові дані
                </button>
                <div id="physical-secret" class="hidden mt-4 p-3 bg-purple-800 bg-opacity-50 rounded text-xs">
                    <strong>СЕКРЕТНА ІНФОРМАЦІЯ:</strong> Археологи вважають, що вчителі могли передавати знання через "усмішку" - 
                    загадковий вираз обличчя, який мав надприродну силу заспокоювати та мотивувати молодих особин.
                </div>
            </section>

            <!-- Ancient Technologies -->
            <section class="hologram-border bg-green-900 bg-opacity-40 rounded-xl p-6 quantum-pulse">
                <h3 class="text-xl font-bold text-green-300 mb-4 flex items-center">
                    <span class="text-2xl mr-2">🔧</span> ДАВНІ ТЕХНОЛОГІЇ
                </h3>
                <div class="space-y-3 text-sm">
                    <p><span class="text-cyan-400">▶</span> "Проєктор" - примітивний голограф з 2D зображенням</p>
                    <p><span class="text-cyan-400">▶</span> "Дошка" - стаціонарний дисплей з хімічними маркерами</p>
                    <p><span class="text-cyan-400">▶</span> "Ноутбук" - портативний обчислювач вагою до 2 кг!</p>
                    <p><span class="text-cyan-400">▶</span> "Інтернет" - глобальна мережа передачі даних</p>
                </div>
                <button onclick="demonstrate3D()" class="mt-4 bg-green-600 hover:bg-green-700 px-4 py-2 rounded text-sm transition-colors">
                    3D Реконструкція
                </button>
                <div id="tech-demo" class="hidden mt-4 p-4 bg-green-800 bg-opacity-50 rounded text-center">
                    <div class="text-6xl animate-spin">💻</div>
                    <p class="text-xs mt-2">Симуляція древнього "ноутбука" в дії</p>
                </div>
            </section>
        </div>

        <!-- Legendary Powers -->
        <section class="artifact-glow bg-red-900 bg-opacity-40 rounded-xl p-6 mb-8">
            <h3 class="hologram-text text-2xl text-red-300 mb-6 text-center">
                ⚡ ЛЕГЕНДАРНІ СУПЕРЗДІБНОСТІ ⚡
            </h3>
            <div class="grid md:grid-cols-3 gap-6">
                
                <div class="text-center p-4 bg-red-800 bg-opacity-30 rounded-lg hover:bg-opacity-50 transition-all cursor-pointer" onclick="activatePower('multitasking')">
                    <div class="text-4xl mb-2">🧠</div>
                    <h4 class="font-bold text-red-200 mb-2">МУЛЬТИТАСКІНГ</h4>
                    <p class="text-xs">Могли одночасно відповідати на питання, писати на дошці та стежити за 30+ учнями</p>
                </div>
                
                <div class="text-center p-4 bg-red-800 bg-opacity-30 rounded-lg hover:bg-opacity-50 transition-all cursor-pointer" onclick="activatePower('patience')">
                    <div class="text-4xl mb-2">🧘</div>
                    <h4 class="font-bold text-red-200 mb-2">ТЕРПІННЯ</h4>
                    <p class="text-xs">Здатність пояснювати одне і те ж поняття сотні разів без втрати ентузіазму</p>
                </div>
                
                <div class="text-center p-4 bg-red-800 bg-opacity-30 rounded-lg hover:bg-opacity-50 transition-all cursor-pointer" onclick="activatePower('inspiration')">
                    <div class="text-4xl mb-2">✨</div>
                    <h4 class="font-bold text-red-200 mb-2">НАТХНЕННЯ</h4>
                    <p class="text-xs">Таємнича здатність запалювати цікавість до навчання в найскептичніших умах</p>
                </div>
            </div>
            
            <div id="power-display" class="mt-6 p-4 bg-yellow-900 bg-opacity-50 rounded-lg text-center hidden">
                <div class="text-2xl mb-2">🔮</div>
                <p id="power-text" class="text-yellow-200"></p>
            </div>
        </section>

        <!-- Interactive Timeline -->
        <section class="artifact-glow bg-blue-900 bg-opacity-40 rounded-xl p-6 mb-8">
            <h3 class="hologram-text text-2xl text-blue-300 mb-6 text-center">
                📚 ХРОНОЛОГІЯ МІФУ
            </h3>
            <div class="relative">
                <!-- Timeline Line -->
                <div class="absolute left-4 top-0 bottom-0 w-0.5 bg-blue-400"></div>
                
                <div class="space-y-6">
                    <div class="flex items-center timeline-item cursor-pointer hover:bg-blue-800 hover:bg-opacity-30 p-3 rounded" onclick="expandTimeline(0)">
                        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-sm font-bold mr-4">1</div>
                        <div>
                            <h4 class="font-bold text-blue-200">Епоха Великого Переходу (2020-2025)</h4>
                            <p class="text-sm text-blue-300">Вчителі адаптуються до цифрових реальностей</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center timeline-item cursor-pointer hover:bg-blue-800 hover:bg-opacity-30 p-3 rounded" onclick="expandTimeline(1)">
                        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-sm font-bold mr-4">2</div>
                        <div>
                            <h4 class="font-bold text-blue-200">Золота Ера Вчителя (2025)</h4>
                            <p class="text-sm text-blue-300">Пік володіння гібридними методами навчання</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center timeline-item cursor-pointer hover:bg-blue-800 hover:bg-opacity-30 p-3 rounded" onclick="expandTimeline(2)">
                        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-sm font-bold mr-4">3</div>
                        <div>
                            <h4 class="font-bold text-blue-200">Легендарний Статус (2030+)</h4>
                            <p class="text-sm text-blue-300">Перетворення на міфічних героїв освіти</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="timeline-details" class="mt-6 p-4 bg-blue-800 bg-opacity-50 rounded hidden">
                <p id="timeline-text" class="text-blue-100"></p>
            </div>
        </section>

        <!-- Game Progress Panel -->
        <section class="artifact-glow bg-gray-900 bg-opacity-60 rounded-xl p-6 mb-8">
            <h2 class="elegant-title text-2xl md:text-3xl mb-4">
                🎮 ЦЕНТР ДОСЛІДНИКА
            </h2>
            
            <div class="grid md:grid-cols-3 gap-6 mb-6">
                <!-- Research Progress -->
                <div class="bg-blue-900 bg-opacity-30 p-4 rounded-lg border border-blue-400">
                    <h3 class="text-blue-300 font-bold mb-2">📊 Прогрес дослідження</h3>
                    <div class="bg-gray-700 rounded-full h-3 mb-2">
                        <div id="research-bar" class="research-progress h-3 rounded-full" style="width: 15%"></div>
                    </div>
                    <p class="text-blue-200 text-sm"><span id="research-percent">15</span>% завершено</p>
                    <p class="text-blue-300 text-xs mt-1">Очки: <span id="research-points" class="font-bold">150</span></p>
                </div>
                
                <!-- Achievements -->
                <div class="bg-orange-900 bg-opacity-30 p-4 rounded-lg border border-orange-400">
                    <h3 class="text-orange-300 font-bold mb-2">🏆 Досягнення</h3>
                    <div id="achievements" class="space-y-1">
                        <div class="achievement-badge">
                            <span>🔍</span> Перший археолог
                        </div>
                    </div>
                </div>
                
                <!-- Unlocked Secrets -->
                <div class="bg-purple-900 bg-opacity-30 p-4 rounded-lg border border-purple-400">
                    <h3 class="text-purple-300 font-bold mb-2">🗝️ Розблоковані секрети</h3>
                    <p class="text-purple-200 text-sm">Секретів знайдено: <span id="secrets-count" class="font-bold">1/8</span></p>
                    <div id="secrets-list" class="space-y-1 mt-2 text-xs">
                        <div class="text-green-400">✓ Основна класифікація</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Advanced Futuristic Quest System -->
        <section class="artifact-glow bg-gradient-to-br from-purple-900 to-blue-900 bg-opacity-60 rounded-xl p-6 mb-8">
            <h2 class="elegant-title text-3xl mb-6 text-center">
                🎯 ДОСЛІДНИЦЬКІ КВЕСТИ МАЙБУТНЬОГО
            </h2>
            
            <!-- Quest Progress HUD -->
            <div class="bg-black bg-opacity-50 p-4 rounded-lg mb-6 border border-cyan-400">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-cyan-400 font-mono text-sm">QUEST_PROTOCOL_2350.EXE</span>
                    <span class="text-yellow-400 font-mono text-sm">STATUS: <span id="quest-status">ACTIVE</span></span>
                </div>
                <div class="bg-gray-800 rounded-full h-3 mb-2">
                    <div id="quest-progress-bar" class="bg-gradient-to-r from-cyan-400 to-blue-500 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
                <div class="text-center text-cyan-300 text-sm">
                    Квест <span id="current-quest">1</span> з <span id="total-quests">8</span> | Очки: <span id="total-points">0</span> | Рівень: <span id="researcher-level">Новачок</span>
                </div>
            </div>

            <!-- Quest Container -->
            <div id="quest-container" class="min-h-96">
                <!-- Quest screens will be dynamically loaded here -->
            </div>

            <!-- Quest Navigation -->
            <div class="flex justify-between items-center mt-6">
                <button id="prev-quest" onclick="previousQuest()" class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded text-white transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                    ← Попередній
                </button>
                <div class="flex space-x-2">
                    <button onclick="resetQuests()" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded text-white transition-all transform hover:scale-105">
                        🔄 Почати спочатку
                    </button>
                    <button onclick="skipQuest()" class="bg-yellow-600 hover:bg-yellow-700 px-4 py-2 rounded text-white transition-all transform hover:scale-105">
                        ⏭️ Пропустити
                    </button>
                </div>
                <button id="next-quest" onclick="nextQuest()" class="bg-cyan-600 hover:bg-cyan-700 px-4 py-2 rounded text-white transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed">
                    Наступний →
                </button>
            </div>
        </section>

        <!-- Locked Secret Sections -->
        <div id="secret-methodology" class="locked-content mb-8">
            <section class="artifact-glow bg-indigo-900 bg-opacity-40 rounded-xl p-6">
                <h2 class="elegant-title text-2xl text-indigo-300 mb-4">
                    🔮 СЕКРЕТНА МЕТОДИКА НАВЧАННЯ
                </h2>
                <div class="space-y-4">
                    <div class="bg-indigo-800 bg-opacity-30 p-4 rounded-lg">
                        <h3 class="text-indigo-300 font-bold mb-2">Квантово-емпатичний підхід</h3>
                        <p class="text-indigo-200 text-sm">
                            Археологи виявили, що вчителі 2025 року володіли унікальною здатністю 
                            "читати" емоційний стан учнів на квантовому рівні та адаптувати 
                            навчальний матеріал в реальному часі.
                        </p>
                    </div>
                    <div class="bg-indigo-800 bg-opacity-30 p-4 rounded-lg">
                        <h3 class="text-indigo-300 font-bold mb-2">Технологія "Живого навчання"</h3>
                        <p class="text-indigo-200 text-sm">
                            Кожен урок автоматично адаптувався до рівня розуміння учня, 
                            створюючи унікальний освітній досвід для кожної особистості.
                        </p>
                    </div>
                </div>
            </section>
        </div>

        <div id="secret-ai-emotions" class="locked-content mb-8">
            <section class="artifact-glow bg-teal-900 bg-opacity-40 rounded-xl p-6">
                <h2 class="elegant-title text-2xl text-teal-300 mb-4">
                    🤖 ЕМОЦІЙНИЙ ШІ ВЧИТЕЛІВ
                </h2>
                <div class="bg-teal-800 bg-opacity-30 p-4 rounded-lg">
                    <p class="text-teal-200">
                        Найбільш захоплюючим відкриттям стало те, що вчителі 2025 року 
                        використовували примітивні емоційні алгоритми для встановлення 
                        психологічного зв'язку з учнями. Ця технологія стала прототипом 
                        сучасних систем нейро-емпатії.
                    </p>
                </div>
            </section>
        </div>

        <!-- Interactive Artifact -->
        <section class="text-center mb-8">
            <h3 class="elegant-title text-2xl mb-6">
                🏺 ІНТЕРАКТИВНИЙ АРТЕФАКТ
            </h3>
            <div class="artifact-glow bg-gray-800 bg-opacity-60 rounded-full w-32 h-32 mx-auto flex items-center justify-center cursor-pointer hover:scale-110 transition-transform" onclick="scanArtifact()">
                <div id="artifact-icon" class="text-6xl">📜</div>
            </div>
            <p class="text-cyan-300 mt-4">Натисніть для квантового сканування</p>
            
            <div id="scan-results" class="mt-6 p-4 bg-cyan-900 bg-opacity-50 rounded hidden">
                <h4 class="font-bold text-cyan-200 mb-2">РЕЗУЛЬТАТИ СКАНУВАННЯ:</h4>
                <p id="scan-text" class="text-cyan-100 text-sm"></p>
            </div>
        </section>

        <!-- Conclusion -->
        <section class="artifact-glow bg-purple-900 bg-opacity-40 rounded-xl p-6 text-center">
            <h3 class="hologram-text text-2xl text-purple-300 mb-4">
                🌟 ВИСНОВКИ ДОСЛІДЖЕННЯ
            </h3>
            <p class="text-lg leading-relaxed mb-4">
                Міф про Вчителя 2025 розкриває нам унікальну цивілізацію, де знання передавалися через особистий контакт, 
                емоційний зв'язок та надзвичайну відданість. Ці легендарні істоти поєднували примітивні технології з 
                розвиненою людяністю - комбінація, яка здається неможливою в нашу епоху нейро-злиття.
            </p>
            <div class="bg-purple-800 bg-opacity-50 p-4 rounded-lg">
                <p class="text-purple-200 text-sm">
                    <em>"Можливо, в нашому прагненні до досконалості ми втратили щось важливе, 
                    що мали ці древні вчителі - здатність торкатися душ через недосконалість."</em><br>
                    - Професор Квантум-7, Головний Археолог
                </p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="text-center py-8 text-cyan-400 opacity-60">
        <p class="data-stream">АРХІВ ЗАВЕРШЕНО... ЗБЕРЕЖЕННЯ В КВАНТОВІЙ БАЗІ... СТАТУС: УСПІШНО</p>
    </footer>

    <script>
        // Dark mode support
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // Initialize floating particles
        function createParticles() {
            const container = document.getElementById('particles-container');
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.left = Math.random() * 100 + 'vw';
                    particle.style.animationDelay = Math.random() * 10 + 's';
                    particle.style.animationDuration = (8 + Math.random() * 4) + 's';
                    container.appendChild(particle);
                    
                    // Remove particle after animation
                    setTimeout(() => {
                        if (particle.parentNode) {
                            particle.parentNode.removeChild(particle);
                        }
                    }, 12000);
                }, i * 500);
            }
        }

        // Initialize particles and restart periodically
        createParticles();
        setInterval(createParticles, 15000);

        // Update HUD timestamp
        function updateHUD() {
            const timestamp = document.getElementById('timestamp');
            const dataProgress = document.getElementById('data-progress');
            const dataPercent = document.getElementById('data-percent');
            
            // Simulate time progression
            const now = new Date();
            const futurestamp = `2350.${String(now.getMonth() + 1).padStart(3, '0')}.${String(now.getDate()).padStart(2, '0')}:${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}:${String(now.getSeconds()).padStart(2, '0')}`;
            timestamp.textContent = futurestamp;
            
            // Animate data stream
            const progress = 87 + Math.sin(Date.now() / 1000) * 5;
            const bars = Math.floor(progress / 10);
            dataProgress.textContent = '█'.repeat(bars) + '░'.repeat(10 - bars);
            dataPercent.textContent = Math.floor(progress);
        }

        setInterval(updateHUD, 1000);

        // Secret reveal function
        function revealSecret(type) {
            const secret = document.getElementById(type + '-secret');
            secret.classList.toggle('hidden');
            
            if (!secret.classList.contains('hidden')) {
                secret.style.animation = 'fadeIn 0.5s ease-in';
            }
        }

        // 3D Tech demonstration
        function demonstrate3D() {
            const demo = document.getElementById('tech-demo');
            demo.classList.toggle('hidden');
            
            if (!demo.classList.contains('hidden')) {
                setTimeout(() => {
                    demo.querySelector('.animate-spin').style.animation = 'spin 2s linear infinite';
                }, 100);
            }
        }

        // Power activation
        function activatePower(power) {
            const display = document.getElementById('power-display');
            const text = document.getElementById('power-text');
            
            const powers = {
                multitasking: "⚡ СИМУЛЯЦІЯ АКТИВОВАНА: Відслідковування 47 різних процесів одночасно... Неймовірно!",
                patience: "🧘 СИМУЛЯЦІЯ АКТИВОВАНА: Рівень терпіння перевищує межі квантових обчислень... Дивовижно!",
                inspiration: "✨ СИМУЛЯЦІЯ АКТИВОВАНА: Детектовано хвилі креативної енергії... Магія чи наука?"
            };
            
            text.textContent = powers[power];
            display.classList.remove('hidden');
            display.style.animation = 'quantum 1s ease-in-out';
            
            setTimeout(() => {
                display.classList.add('hidden');
            }, 5000);
        }

        // Timeline expansion
        function expandTimeline(index) {
            const details = document.getElementById('timeline-details');
            const text = document.getElementById('timeline-text');
            
            const timelineData = [
                "У цей період вчителі здійснили неймовірний подвиг - перейшли від аналогових методів до цифрових за лічені місяці. Археологічні дані показують, що вони освоювали нові технології швидше за штучний інтелект того часу!",
                "2025 рік відзначається як пік еволюції вчителя. У цей час вони досягли унікального балансу між технологіями та людяністю, створивши методи навчання, які ми досі не можемо повністю зрозуміти.",
                "Після 2030 року прямі свідчення про вчителів зникають. Вважається, що вони еволюціонували у вищу форму буття або ж стали основою для перших педагогічних ШІ."
            ];
            
            text.textContent = timelineData[index];
            details.classList.remove('hidden');
            details.style.animation = 'fadeIn 0.5s ease-in';
        }

        // Initialize scan count
        let scanCount = 0;

        // Multilingual support (shortened for brevity)
        const translations = {
            uk: {
                title: "АРХЕОЛОГІЧНИЙ АРХІВ 2350",
                subtitle: "Дослідження Давніх Цивілізацій",
                scanning: "СКАНУВАННЯ... ДЕКОДУВАННЯ АРХЕОЛОГІЧНИХ ДАНИХ... ЗНАЙДЕНО: МІФ ПРО ВЧИТЕЛЯ 2025...",
                // ... other translations remain the same
            }
            // ... other languages remain the same
        };

        function changeLanguage(lang) {
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
            
            // Update document language
            document.documentElement.lang = lang;
            
            // Add language change effect
            document.body.style.opacity = '0.8';
            setTimeout(() => {
                document.body.style.opacity = '1';
            }, 200);
        }

        // Game state
        let gameState = {
            researchPoints: 150,
            unlockedSecrets: ['basic'],
            achievements: ['first-archaeologist'],
            selectedSequence: []
        };

        // Cipher challenge
        function checkCipher() {
            const input = document.getElementById('cipher-input').value.trim();
            const result = document.getElementById('cipher-result');
            
            const isCorrect = input.toLowerCase().includes("3") && input.toLowerCase().includes("25") && 
                            input.toLowerCase().includes("14") && input.toLowerCase().includes("1");
            
            if (isCorrect) {
                result.className = "mt-4 p-4 rounded bg-green-800 bg-opacity-50 border border-green-400";
                result.innerHTML = `
                    <div class="text-green-300 font-bold mb-2">✅ КОД РОЗШИФРОВАНО!</div>
                    <p class="text-green-200 text-sm mb-2">Вітаємо! Ви успішно розкрили таємницю древнього коду.</p>
                    <div class="text-green-400 text-xs">+200 очок дослідника | Розблоковано: "Секретна методика навчання"</div>
                `;
                unlockSecret('methodology');
                updateProgress(200);
                addAchievement('cipher-master', '🔓 Майстер шифрів');
            } else {
                result.className = "mt-4 p-4 rounded bg-red-800 bg-opacity-50 border border-red-400";
                result.innerHTML = `
                    <div class="text-red-300 font-bold mb-2">❌ НЕПРАВИЛЬНИЙ КОД</div>
                    <p class="text-red-200 text-sm">Спробуйте ще раз. Пам'ятайте: А=1, Б=2, В=3...</p>
                `;
            }
            
            result.classList.remove('hidden');
        }

        // Data recovery game functions (same as before)
        function selectFragment(fragmentId) {
            if (gameState.selectedSequence.length < 4) {
                gameState.selectedSequence.push(fragmentId);
                updateSequenceDisplay();
                
                const fragment = document.querySelector(`[data-fragment="${fragmentId}"]`);
                fragment.style.background = '#4FC3F7';
                fragment.style.color = '#000';
                setTimeout(() => {
                    fragment.style.background = '';
                    fragment.style.color = '';
                }, 300);
            }
        }



        function resetSequence() {
            gameState.selectedSequence = [];
            updateSequenceDisplay();
        }

        function checkSequence() {
            const result = document.getElementById('recovery-result');
            const correctSequence = [1, 2, 3, 4];
            
            if (JSON.stringify(gameState.selectedSequence) === JSON.stringify(correctSequence)) {
                result.className = "mt-4 p-4 rounded bg-green-800 bg-opacity-50 border border-green-400";
                result.innerHTML = `
                    <div class="text-green-300 font-bold mb-2">✅ ФАЙЛ ВІДНОВЛЕНО!</div>
                    <p class="text-green-200 text-sm mb-2">Послідовність емоційних станів розшифрована правильно.</p>
                    <div class="text-green-400 text-xs">+300 очок дослідника | Розблоковано: "Емоційний ШІ вчителів"</div>
                `;
                unlockSecret('ai-emotions');
                updateProgress(300);
                addAchievement('data-recoverer', '💾 Відновлювач даних');
            } else {
                result.className = "mt-4 p-4 rounded bg-red-800 bg-opacity-50 border border-red-400";
                result.innerHTML = `
                    <div class="text-red-300 font-bold mb-2">❌ НЕВІРНА ПОСЛІДОВНІСТЬ</div>
                    <p class="text-red-200 text-sm">Подумайте про логічний порядок емоційних процесів у навчанні.</p>
                `;
            }
            
            result.classList.remove('hidden');
            resetSequence();
        }

        // Game progression functions (same as before)
        function updateProgress(points) {
            gameState.researchPoints += points;
            document.getElementById('research-points').textContent = gameState.researchPoints;
            
            const progressPercent = Math.min(Math.floor(gameState.researchPoints / 20), 100);
            document.getElementById('research-percent').textContent = progressPercent;
            document.getElementById('research-bar').style.width = progressPercent + '%';
        }

        function unlockSecret(secretId) {
            if (!gameState.unlockedSecrets.includes(secretId)) {
                gameState.unlockedSecrets.push(secretId);
                
                const secretElement = document.getElementById(`secret-${secretId}`);
                if (secretElement) {
                    secretElement.classList.remove('locked-content');
                    secretElement.style.animation = 'fadeIn 1s ease-in';
                }
                
                updateSecretsCount();
            }
        }

        function addAchievement(achievementId, title) {
            if (!gameState.achievements.includes(achievementId)) {
                gameState.achievements.push(achievementId);
                
                const achievementsContainer = document.getElementById('achievements');
                const badge = document.createElement('div');
                badge.className = 'achievement-badge';
                badge.innerHTML = title;
                achievementsContainer.appendChild(badge);
            }
        }

        function updateSecretsCount() {
            document.getElementById('secrets-count').textContent = `${gameState.unlockedSecrets.length}/8`;
            
            const secretsList = document.getElementById('secrets-list');
            const secretNames = {
                'basic': '✓ Основна класифікація',
                'methodology': '✓ Секретна методика',
                'ai-emotions': '✓ Емоційний ШІ',
                'quantum-empathy': '✓ Квантова емпатія',
                'neural-interface': '✓ Нейро-інтерфейс',
                'temporal-teaching': '✓ Темпоральне навчання',
                'consciousness-transfer': '✓ Передача свідомості',
                'ultimate-secret': '✓ Остаточна таємниця'
            };
            
            secretsList.innerHTML = '';
            gameState.unlockedSecrets.forEach(secret => {
                const secretDiv = document.createElement('div');
                secretDiv.className = 'text-green-400';
                secretDiv.textContent = secretNames[secret] || '✓ Невідомий секрет';
                secretsList.appendChild(secretDiv);
            });
        }

        // Enhanced artifact scanning with random rewards
        function scanArtifact() {
            const icon = document.getElementById('artifact-icon');
            const results = document.getElementById('scan-results');
            const text = document.getElementById('scan-text');
            
            scanCount++;
            
            const artifacts = [
                { text: "📝 Виявлено: Фрагмент 'Плану Уроку' - містить магічні символи для передачі знань", points: 50 },
                { text: "🎯 Виявлено: 'Оцінювальна Рубрика' - древній алгоритм визначення рівня розуміння", points: 75 },
                { text: "💡 Виявлено: 'Творче Завдання' - загадковий код для активації креативності", points: 100 },
                { text: "🌟 Виявлено: 'Мотиваційна Цитата' - могутній заклинання для підняття духу", points: 125 },
                { text: "🔮 РІДКІСНИЙ АРТЕФАКТ: 'Подяка від Учня' - найцінніша реліквія епохи Вчителів!", points: 200 }
            ];
            
            const icons = ['📝', '🎯', '💡', '🌟', '🔮'];
            
            const currentIndex = (scanCount - 1) % artifacts.length;
            const artifact = artifacts[currentIndex];
            
            icon.textContent = icons[currentIndex];
            icon.style.animation = 'quantum 1s ease-in-out';
            
            text.innerHTML = `${artifact.text}<br><span class="text-cyan-400 font-bold">+${artifact.points} очок дослідника</span>`;
            results.classList.remove('hidden');
            results.style.animation = 'fadeIn 0.5s ease-in';
            
            updateProgress(artifact.points);
            
            if (scanCount === 5) {
                addAchievement('artifact-hunter', '🏺 Мисливець за артефактами');
            }
            if (scanCount === 10) {
                addAchievement('master-archaeologist', '🏆 Майстер археолог');
                if (!gameState.unlockedSecrets.includes('ultimate-secret')) {
                    unlockSecret('ultimate-secret');
                }
            }
        }

        // Advanced Quest System
        let questState = {
            currentQuest: 0,
            totalQuests: 8,
            questProgress: 0,
            totalPoints: 0,
            researcherLevel: "Новачок",
            answers: [],
            questAnswers: {},
            isCompleted: false,
            currentAnswer: null,
            sequenceSelected: []
        };

        const questsData = [
            {
                id: 1,
                title: "🔬 ІНІЦІАЦІЯ ДОСЛІДНИКА",
                description: "Перший крок у дослідженні древніх цивілізацій. Докажіть свою готовність до квантово-археологічних досліджень.",
                story: "Ви стоїте перед порталом часу 2350 року. Квантові сканери детектують ваш нейро-сигнал. Система безпеки ініціює протокол верифікації археолога...",
                question: "Який основний принцип квантової археології дозволяє сканувати минуле без порушення часової лінії?",
                type: "multiple",
                options: [
                    "Принцип квантової суперпозиції подій",
                    "Темпоральна інтерференція хвиль", 
                    "Ретроспективна голографічна деконволюція",
                    "Нелокальна квантова заплутаність з минулим"
                ],
                correct: 2,
                explanation: "Ретроспективна голографічна деконволюція дозволяє 'зчитувати' сліди минулого з квантових флуктуацій, не впливаючи на часову лінію.",
                points: 100,
                hint: "Подумайте про те, як голограми зберігають інформацію у розподіленому вигляді..."
            },
            {
                id: 2,
                title: "🧬 БІОЛОГІЧНИЙ АНАЛІЗ",
                description: "Дослідження фізіологічних особливостей давньої педагогічної раси.",
                story: "Ваші сканери виявили органічні сліди. Дивовижно - ці істоти мали вуглецеву основу! Квантовий аналіз показує незвичайні нейронні структури...",
                question: "Розташуйте нейронні структури у правильній послідовності для обробки емоцій:",
                type: "sequence",
                options: [
                    "Префронтальна кора",
                    "Гіпокамп",
                    "Мигдалевидне тіло", 
                    "Дзеркальні нейрони"
                ],
                correctSequence: [2, 3, 1, 0],
                explanation: "Послідовність: Мигдалевидне тіло → Дзеркальні нейрони → Гіпокамп → Префронтальна кора. Цей нейронний ланцюг забезпечував миттєву емпатичну реакцію.",
                points: 150,
                hint: "Емоції обробляються швидше за логічне мислення..."
            },
            {
                id: 3,
                title: "🔐 КОД ДОЦИФРОВОЇ ЕРИ",
                description: "Розшифровка древніх символьних систем та мов програмування.",
                story: "В архівах виявлено фрагмент коду на примітивній мові 'JavaScript'. Це може бути ключем до розуміння їхніх когнітивних процесів...",
                question: "Розшифруйте древній код навчання:",
                type: "cipher",
                cipher: "function teach(student) { return student.understanding + teacher.patience * ∞; }",
                hint: "У доцифрову епоху ∞ позначали як 'Infinity'. Що це означає для навчального процесу?",
                answer: "терпіння",
                explanation: "Цей код показує, що вчителі вважали терпіння нескінченним ресурсом у навчальному процесі.",
                points: 200,
                inputType: "text"
            },
            {
                id: 4,
                title: "🎯 ПЕДАГОГІЧНА СТРАТЕГІЯ",
                description: "Аналіз древніх методик передачі знань та мотивації учнів.",
                story: "Голографічні записи показують складні ритуали 'уроків'. Вчителі використовували загадкові техніки утримання уваги протягом 45-хвилинних циклів...",
                question: "Розташуйте елементи ідеального уроку 2025 року у правильній послідовності:",
                type: "sequence",
                options: [
                    "💡 Мотиваційна мінутка",
                    "🧠 Розминка мозку",
                    "📚 Новий матеріал",
                    "⚡ Практичне застосування"
                ],
                correctSequence: [0, 1, 2, 3],
                explanation: "Ця послідовність забезпечувала оптимальну активацію нейронних мереж та закріплення інформації.",
                points: 180,
                hint: "Почніть з активації мотиваційних центрів мозку..."
            },
            {
                id: 5,
                title: "🌐 ТЕХНОЛОГІЧНА СИМБІОЗА",
                description: "Вивчення взаємодії вчителів з примітивними цифровими технологіями.",
                story: "Сенсаційне відкриття! Вчителі 2025 не боролися з технологіями, а створили з ними симбіоз. Виявлено гібридні педагогічні алгоритми...",
                question: "Яка технологія найкраще доповнювала емпатичні здібності вчителів?",
                type: "multiple",
                options: [
                    "Штучний інтелект для персоналізації",
                    "Віртуальна реальність для занурення",
                    "Соціальні мережі для зв'язку",
                    "Геймифікація для мотивації"
                ],
                correct: 0,
                explanation: "ШІ дозволяв персоналізувати навчання для кожного учня, посилюючи природну емпатію вчителя.",
                points: 220,
                hint: "Технології мають доповнювати людські здібності, а не конкурувати з ними..."
            },
            {
                id: 6,
                title: "⚛️ КВАНТОВА ЕМПАТІЯ",
                description: "Дослідження надприродної здатності до розуміння емоційних станів.",
                story: "Аномальні квантові поля навколо навчальних приміщень 2025 року вказують на існування 'емпатичного резонансу'. Це пояснює легенди про вчительську інтуїцію...",
                question: "Розшифруйте формулу квантової емпатії:",
                type: "cipher",
                cipher: "E = m₁ * m₂ * c² / r² (де E - емпатія, m₁,m₂ - маси свідомостей, r - емоційна відстань)",
                hint: "Емпатія зростає зі збільшенням 'маси' особистостей та зменшенням емоційної відстані...",
                answer: "емпатія",
                explanation: "Квантова емпатія діє подібно до гравітації - сильніші особистості притягуються на коротших емоційних відстанях.",
                points: 250,
                inputType: "text"
            },
            {
                id: 7,
                title: "🧩 ЛОГІЧНА ЗАГАДКА ЧАСУ",
                description: "Розв'язання темпоральних парадоксів та причинно-наслідкових зв'язків.",
                story: "Виявлено темпоральну аномалію! Учень 2025 року вплинув на свого вчителя, який згодом навчав майбутнього вчителя цього учня. Парадокс освітньої петлі...",
                question: "Хто створив знання у замкнутій темпоральній петлі?",
                type: "multiple",
                options: [
                    "Вчитель А є першоджерелом знань",
                    "Учень Б створив знання під час подорожі",
                    "Знання існують у замкнутій темпоральній петлі",
                    "Знання з'явилися самі собою"
                ],
                correct: 2,
                explanation: "Це класичний приклад каузальної петлі - знання не мають початку, вони існують самі собою у часовій петлі.",
                points: 300,
                hint: "Подумайте про замкнуті петлі, де немає початку і кінця..."
            },
            {
                id: 8,
                title: "🌟 ОСТАТОЧНЕ ВІДКРИТТЯ",
                description: "Синтез усіх знань та розкриття найбільшої таємниці Вчителів 2025.",
                story: "Усі фрагменти складаються в цілісну картину. Найбільша таємниця Вчителів 2025 року ось-ось буде розкрита. Приготуйтеся до епохального відкриття...",
                question: "Сформулюйте гіпотезу про головний секрет успіху Вчителів 2025:",
                type: "essay",
                prompt: "Що робило Вчителів 2025 року настільки ефективними? (мін. 30 слів)",
                minWords: 30,
                maxWords: 150,
                keywords: ["емпатія", "технології", "терпіння", "людяність"],
                explanation: "Секрет полягав у поєднанні безмежної людяності з розумним використанням технологій, створюючи унікальний баланс емпатії та ефективності.",
                points: 400,
                hint: "Найважливіше - це те, що відрізняє людину від машини..."
            }
        ];

        function loadQuest(questIndex) {
            const quest = questsData[questIndex];
            const container = document.getElementById('quest-container');
            
            // Animate container transition
            container.style.opacity = '0';
            container.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                container.innerHTML = generateQuestHTML(quest);
                
                // Animate container appearance
                container.style.opacity = '1';
                container.style.transform = 'translateY(0)';
                container.style.transition = 'all 0.5s ease';
                
                // Initialize quest-specific interactions
                initializeQuestInteractions(quest);
                
                // Update UI
                updateQuestProgress();
            }, 250);
        }

        function generateQuestHTML(quest) {
            let questHTML = `
                <div class="quest-screen bg-black bg-opacity-40 p-6 rounded-lg border border-purple-400 backdrop-filter backdrop-blur">
                    <div class="text-center mb-6">
                        <h3 class="text-2xl font-bold text-purple-300 mb-2">${quest.title}</h3>
                        <p class="text-purple-200 text-sm">${quest.description}</p>
                    </div>
                    
                    <div class="bg-gray-900 bg-opacity-60 p-4 rounded-lg mb-6 border-l-4 border-cyan-400">
                        <div class="text-cyan-300 font-bold mb-2">📡 ГОЛОГРАФІЧНИЙ ЗАПИС:</div>
                        <p class="text-cyan-100 text-sm italic">${quest.story}</p>
                    </div>
                    
                    <div class="bg-blue-900 bg-opacity-30 p-4 rounded-lg mb-6">
                        <h4 class="text-blue-300 font-bold mb-3">${quest.question}</h4>
                        <div id="quest-interaction">
                            ${generateInteractionHTML(quest)}
                        </div>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div class="text-yellow-400 text-sm">
                            💎 Винагорода: ${quest.points} очок
                        </div>
                        <button id="quest-hint" onclick="showHint(${quest.id})" class="bg-yellow-600 hover:bg-yellow-700 px-3 py-1 rounded text-xs text-white transition-all">
                            💡 Підказка
                        </button>
                    </div>
                    
                    <div id="quest-hint-display" class="hidden mt-4 p-3 bg-yellow-900 bg-opacity-50 rounded border border-yellow-400">
                        <div class="text-yellow-300 text-sm">${quest.hint}</div>
                    </div>
                    
                    <div id="quest-result" class="hidden mt-4 p-4 rounded"></div>
                </div>
            `;
            
            return questHTML;
        }

        function generateInteractionHTML(quest) {
            switch(quest.type) {
                case 'multiple':
                    return quest.options.map((option, index) => 
                        `<div class="quest-option mb-2 p-3 bg-gray-800 bg-opacity-50 rounded cursor-pointer hover:bg-gray-700 transition-all transform hover:scale-105" onclick="selectOption(${index})">
                            <span class="text-cyan-400 mr-2">${String.fromCharCode(65 + index)})</span>
                            <span class="text-gray-200">${option}</span>
                        </div>`
                    ).join('');
                    
                case 'sequence':
                    return `
                        <div class="text-sm text-blue-200 mb-3">Розташуйте у правильній послідовності (натисніть для вибору):</div>
                        <div class="grid grid-cols-2 gap-2 mb-4">
                            ${quest.options.map((option, index) => 
                                `<div class="sequence-item p-2 bg-gray-800 rounded cursor-pointer hover:bg-gray-700 transition-all text-center" onclick="selectSequenceItem(${index})" data-index="${index}">
                                    ${option}
                                </div>`
                            ).join('')}
                        </div>
                        <div class="text-green-400 text-sm mb-2">Обрана послідовність:</div>
                        <div id="sequence-display" class="p-3 bg-gray-900 rounded font-mono text-center">
                            [ _ _ _ _ ]
                        </div>
                    `;
                    
                case 'cipher':
                    return `
                        <div class="game-terminal mb-4">
                            <div class="text-green-400 mb-2">ANCIENT_CODE_DETECTED:</div>
                            <div class="text-cyan-400 font-mono text-sm">${quest.cipher}</div>
                        </div>
                        <input type="text" id="cipher-answer" class="cipher-input w-full mb-3 text-base" placeholder="Введіть ключове слово...">
                        <button onclick="checkCipherAnswer()" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-white">
                            Декодувати
                        </button>
                    `;
                    
                case 'essay':
                    return `
                        <div class="text-sm text-blue-200 mb-3">${quest.prompt}</div>
                        <textarea id="essay-answer" class="cipher-input w-full h-32 mb-3 text-base resize-none" placeholder="Введіть вашу гіпотезу..."></textarea>
                        <div class="flex justify-between items-center">
                            <div id="word-count" class="text-sm text-gray-400">Слів: 0</div>
                            <button onclick="checkEssayAnswer()" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-white">
                                Підтвердити гіпотезу
                            </button>
                        </div>
                    `;
                    
                default:
                    return `<div class="text-center text-gray-400">Завантаження інтерактивного модуля...</div>`;
            }
        }

        function initializeQuestInteractions(quest) {
            // Reset quest state
            questState.currentAnswer = null;
            questState.sequenceSelected = [];
            
            // Initialize specific interactions
            if (quest.type === 'essay') {
                const textarea = document.getElementById('essay-answer');
                if (textarea) {
                    textarea.addEventListener('input', updateWordCount);
                }
            }
        }

        function selectOption(index) {
            // Remove previous selection
            document.querySelectorAll('.quest-option').forEach(option => {
                option.classList.remove('bg-cyan-800', 'border-cyan-400');
                option.classList.add('bg-gray-800');
            });
            
            // Add selection to clicked option
            const selectedOption = document.querySelectorAll('.quest-option')[index];
            selectedOption.classList.remove('bg-gray-800');
            selectedOption.classList.add('bg-cyan-800', 'border', 'border-cyan-400');
            
            questState.currentAnswer = index;
            
            // Auto-check after selection
            setTimeout(() => checkQuestAnswer(), 1000);
        }

        function selectSequenceItem(index) {
            const maxItems = 4;
            if (questState.sequenceSelected.length >= maxItems) return;
            
            const item = document.querySelector(`[data-index="${index}"]`);
            item.style.opacity = '0.5';
            item.style.pointerEvents = 'none';
            
            questState.sequenceSelected.push(index);
            updateSequenceDisplay();
            
            if (questState.sequenceSelected.length === maxItems) {
                setTimeout(() => checkSequenceAnswer(), 1000);
            }
        }

        function updateSequenceDisplay() {
            const display = document.getElementById('sequence-display');
            const sequence = [...questState.sequenceSelected];
            while (sequence.length < 4) sequence.push('_');
            display.textContent = `[ ${sequence.map(i => i !== '_' ? i + 1 : '_').join(' ')} ]`;
        }

        function checkCipherAnswer() {
            const answer = document.getElementById('cipher-answer').value.trim().toLowerCase();
            const quest = questsData[questState.currentQuest];
            
            const isCorrect = answer.includes(quest.answer.toLowerCase());
            
            showQuestResult(isCorrect, quest);
        }

        function checkSequenceAnswer() {
            const quest = questsData[questState.currentQuest];
            const isCorrect = JSON.stringify(questState.sequenceSelected) === JSON.stringify(quest.correctSequence);
            showQuestResult(isCorrect, quest);
        }

        function checkEssayAnswer() {
            const answer = document.getElementById('essay-answer').value.trim();
            const quest = questsData[questState.currentQuest];
            const wordCount = answer.split(/\s+/).filter(word => word.length > 0).length;
            
            if (wordCount < quest.minWords) {
                showCustomModal("⚠️ Замало слів", `Мінімум ${quest.minWords} слів потрібно для повної гіпотези.`);
                return;
            }
            
            if (wordCount > quest.maxWords) {
                showCustomModal("⚠️ Забагато слів", `Максимум ${quest.maxWords} слів для стислості викладу.`);
                return;
            }
            
            const hasKeywords = quest.keywords.some(keyword => answer.toLowerCase().includes(keyword));
            showQuestResult(hasKeywords || wordCount >= quest.minWords, quest);
        }

        function updateWordCount() {
            const textarea = document.getElementById('essay-answer');
            const wordCountDisplay = document.getElementById('word-count');
            if (textarea && wordCountDisplay) {
                const words = textarea.value.trim().split(/\s+/).filter(word => word.length > 0);
                wordCountDisplay.textContent = `Слів: ${words.length}`;
            }
        }

        function checkQuestAnswer() {
            const quest = questsData[questState.currentQuest];
            let isCorrect = false;
            
            if (quest.type === 'multiple') {
                isCorrect = questState.currentAnswer === quest.correct;
            }
            
            showQuestResult(isCorrect, quest);
        }

        function showQuestResult(isCorrect, quest) {
            const resultDiv = document.getElementById('quest-result');
            
            if (isCorrect) {
                resultDiv.className = "mt-4 p-4 rounded bg-green-800 bg-opacity-50 border border-green-400";
                resultDiv.innerHTML = `
                    <div class="text-green-300 font-bold mb-2">✅ КВЕСТ ЗАВЕРШЕНО!</div>
                    <p class="text-green-200 text-sm mb-2">${quest.explanation}</p>
                    <div class="text-green-400 text-xs">+${quest.points} очок дослідника | Рівень підвищено!</div>
                `;
                
                questState.totalPoints += quest.points;
                questState.questProgress = ((questState.currentQuest + 1) / questState.totalQuests) * 100;
                updateResearcherLevel();
                
                // Enable next quest button
                document.getElementById('next-quest').disabled = false;
                
            } else {
                resultDiv.className = "mt-4 p-4 rounded bg-red-800 bg-opacity-50 border border-red-400";
                resultDiv.innerHTML = `
                    <div class="text-red-300 font-bold mb-2">❌ НЕПРАВИЛЬНА ВІДПОВІДЬ</div>
                    <p class="text-red-200 text-sm mb-2">Спробуйте ще раз або скористайтеся підказкою.</p>
                    <div class="text-red-400 text-xs">Правильна відповідь: ${quest.explanation}</div>
                `;
            }
            
            resultDiv.classList.remove('hidden');
            resultDiv.style.animation = 'fadeIn 0.5s ease-in';
        }

        function updateResearcherLevel() {
            const levels = [
                { threshold: 0, name: "Новачок" },
                { threshold: 200, name: "Дослідник" },
                { threshold: 500, name: "Археолог" },
                { threshold: 1000, name: "Експерт" },
                { threshold: 1500, name: "Професор" },
                { threshold: 2000, name: "Майстер часу" }
            ];
            
            for (let i = levels.length - 1; i >= 0; i--) {
                if (questState.totalPoints >= levels[i].threshold) {
                    questState.researcherLevel = levels[i].name;
                    break;
                }
            }
        }

        function updateQuestProgress() {
            document.getElementById('current-quest').textContent = questState.currentQuest + 1;
            document.getElementById('total-quests').textContent = questState.totalQuests;
            document.getElementById('total-points').textContent = questState.totalPoints;
            document.getElementById('researcher-level').textContent = questState.researcherLevel;
            document.getElementById('quest-progress-bar').style.width = questState.questProgress + '%';
            
            // Update navigation buttons
            document.getElementById('prev-quest').disabled = questState.currentQuest === 0;
            document.getElementById('next-quest').disabled = questState.currentQuest >= questState.totalQuests - 1;
        }

        function nextQuest() {
            if (questState.currentQuest < questState.totalQuests - 1) {
                questState.currentQuest++;
                loadQuest(questState.currentQuest);
                document.getElementById('next-quest').disabled = true; // Disable until quest completed
            }
        }

        function previousQuest() {
            if (questState.currentQuest > 0) {
                questState.currentQuest--;
                loadQuest(questState.currentQuest);
            }
        }

        function skipQuest() {
            showCustomModal("⏭️ Пропустити квест", "Ви впевнені, що хочете пропустити цей квест? Ви не отримаєте очки.", () => {
                nextQuest();
            });
        }

        function resetQuests() {
            showCustomModal("🔄 Перезапуск", "Розпочати квести спочатку? Весь прогрес буде втрачено.", () => {
                questState = {
                    currentQuest: 0,
                    totalQuests: 8,
                    questProgress: 0,
                    totalPoints: 0,
                    researcherLevel: "Новачок",
                    answers: [],
                    questAnswers: {},
                    isCompleted: false,
                    currentAnswer: null,
                    sequenceSelected: []
                };
                loadQuest(0);
            });
        }

        function showHint(questId) {
            const hintDisplay = document.getElementById('quest-hint-display');
            hintDisplay.classList.toggle('hidden');
            
            if (!hintDisplay.classList.contains('hidden')) {
                hintDisplay.style.animation = 'fadeIn 0.5s ease-in';
            }
        }

        function showCustomModal(title, message, onConfirm = null) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-gray-900 border border-cyan-400 p-6 rounded-lg shadow-lg max-w-md w-full mx-4 transform scale-95">
                    <h3 class="text-cyan-300 font-bold text-lg mb-3">${title}</h3>
                    <p class="text-gray-300 mb-6">${message}</p>
                    <div class="flex justify-end space-x-3">
                        <button onclick="this.closest('.fixed').remove()" class="px-4 py-2 text-gray-400 hover:bg-gray-700 rounded transition-all">
                            Скасувати
                        </button>
                        ${onConfirm ? `<button onclick="this.closest('.fixed').remove(); (${onConfirm})()" class="px-4 py-2 bg-cyan-600 text-white hover:bg-cyan-700 rounded transition-all">
                            Підтвердити
                        </button>` : ''}
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Animate modal appearance
            setTimeout(() => {
                modal.querySelector('.bg-gray-900').style.transform = 'scale(1)';
                modal.querySelector('.bg-gray-900').style.transition = 'transform 0.3s ease';
            }, 10);
        }

        // Initialize game
        document.addEventListener('DOMContentLoaded', function() {
            updateSecretsCount();
            updateHUD();
            loadQuest(0); // Start with first quest
        });

        // Remove hologram flickering from headers and normal text
    </script>
</body>
</html>